<div class="flex items-center justify-center bg-gray-800 rounded-tl-xl rounded-tr-xl p-2">
    <!-- Left side: Titel -->
    <h2 class="text-3xl font-bold text-cyan-50">Add a new customer </h2>
</div>
<div class="flex flex-col items-center mt-6">
    <!-- Profile image upload area -->
    <label class="relative w-32 h-32 cursor-pointer">
        <!-- Display the cropped/final profile image if available -->
        <img *ngIf="finalImage" [src]="finalImage" alt="Profile"
            class="w-32 h-32 object-cover rounded-full border-2 border-cyan-600" />
        <!-- Placeholder circle shown when no profile image is selected -->
        <div *ngIf="!finalImage"
            class="w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center border-2 border-dashed border-cyan-600 text-gray-500 text-sm">
            Upload
        </div>
        <!-- Invisible file input overlay for selecting image on click -->
        <input type="file" accept="image/*" (change)="onFileSelected($event)" class="absolute inset-0 opacity-0" />
    </label>
    <!-- Image cropper component, visible only when an image file is selected -->
    <image-cropper *ngIf="imageChangedEvent" [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true"
        [aspectRatio]="1" format="png" outputType="base64" (imageCropped)="imageCropped($event)"
        class="w-64 h-64 mt-6"></image-cropper>
    <!-- Confirm button to finalize cropping, shown only when cropping is active -->
    <button *ngIf="imageChangedEvent" (click)="confirmCrop()" class="mt-4 px-4 py-2 bg-cyan-600 text-white rounded">
        Confirm
    </button>

    <!-- Instruction text below upload area -->
    <p class="mt-2 text-sm text-gray-500">
        Click the circle to upload and crop your profile picture
    </p>
</div>

<div class="border-cyan-600 border-2 rounded-xl p-3 space-y-4 ">

    <div class="flex justify-between">
        <div> <!-- Company Name -->
            <div>
                <label for="companyName" class="block text-sm font-medium text-gray-700">Company Name</label>
                <input [(ngModel)]="customer.companyName" id="companyName" type="text" placeholder="Enter company name"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Legal Form -->
            <div>
                <label for="legalForm" class="block text-sm font-medium text-gray-700">Legal Form</label>
                <input [(ngModel)]="customer.legalForm" id="legalForm" type="text" placeholder="e.g. GmbH, Ltd, Inc."
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Industry -->
            <div>
                <label for="industry" class="block text-sm font-medium text-gray-700">Industry</label>
                <input [(ngModel)]="customer.industry" id="industry" type="text" placeholder="e.g. Software, Retail"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Address -->
            <div>
                <label for="address" class="block text-sm font-medium text-gray-700">Street Address</label>
                <input [(ngModel)]="customer.address" id="address" type="text" placeholder="Street and number"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>
        </div>
        <!-- ZIP Code -->
        <div>
            <div>
                <label for="zip" class="block text-sm font-medium text-gray-700">Postal Code</label>
                <input [(ngModel)]="customer.zip" id="zip" type="text" placeholder="Postal code"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- City -->
            <div>
                <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                <input [(ngModel)]="customer.city" id="city" type="text" placeholder="City"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Country -->
            <div>
                <label for="country" class="block text-sm font-medium text-gray-700">Country</label>
                <input [(ngModel)]="customer.country" id="country" type="text" placeholder="Country"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Phone -->
            <div>
                <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                <input [(ngModel)]="customer.phone" id="phone" type="tel" placeholder="e.g. +1 234 567 8900"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>
        </div>
        <!-- Email -->
        <div>
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <input [(ngModel)]="customer.email" id="email" type="email" placeholder="info@example.com"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Website -->
            <div>
                <label for="website" class="block text-sm font-medium text-gray-700">Website</label>
                <input [(ngModel)]="customer.website" id="website" type="url" placeholder="https://www.example.com"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- VAT Number -->
            <div>
                <label for="vat" class="block text-sm font-medium text-gray-700">VAT Number</label>
                <input [(ngModel)]="customer.vat" id="vat" type="text" placeholder="e.g. DE123456789"
                    class="border-cyan-600 border-2 rounded-md w-64 h-10 px-3 mt-1" />
            </div>

            <!-- Customer status -->
            <div>
                <label for="vat" class="block text-sm font-medium text-gray-700">Customer Status</label>
                <span class="inline-block px-3 py-2 rounded-md bg-blue-100 text-cyan-600 font-medium mt-1">
                    New Customer
                </span>
            </div>
        </div>
    </div>
    <div class="flex justify-center">
        <button (click)="backToCustomer()"
            class="bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-2 px-6 rounded-md shadow-md transition duration-300 ease-in-out">Back</button>
        <button (click)="addCustomer()"
            class="bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-2 px-6 rounded-md shadow-md transition duration-300 ease-in-out ml-3">Add</button>
    </div>
</div>